<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Just People Meeting</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
<style>
  :root {
    --navy: #0a1628;
    --navy-mid: #1a3254;
    --blue: #1d4ed8;
    --blue-light: #3b82f6;
    --gold: #c9a84c;
    --gold-light: #f0c96e;
    --white: #ffffff;
    --offwhite: #f8f9fc;
    --gray: #8898aa;
    --gray-light: #e8edf4;
    --red: #dc2626;
    --green: #16a34a;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: 'DM Sans', sans-serif;
    background: var(--white);
    color: var(--navy);
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ SCREENS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
  .screen {
    display: none;
    min-height: 100vh;
    flex-direction: column;
    align-items: center;
    padding: 40px 24px;
  }
  .screen.active { display: flex; }

  /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ LOGO / BRAND ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
  .brand {
    font-family: 'Playfair Display', serif;
    font-size: 13px;
    font-weight: 600;
    letter-spacing: 0.18em;
    text-transform: uppercase;
    color: var(--gold);
    margin-bottom: 8px;
  }

  /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ ONBOARDING ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
  #screen-onboard {
    justify-content: center;
    background: var(--navy);
  }
  .onboard-inner {
    max-width: 380px;
    width: 100%;
    text-align: center;
  }
  .onboard-logo {
    font-family: 'Playfair Display', serif;
    font-size: 36px;
    font-weight: 700;
    color: var(--white);
    line-height: 1.1;
    margin-bottom: 12px;
  }
  .onboard-logo span { color: var(--gold); }
  .onboard-sub {
    color: rgba(255,255,255,0.5);
    font-size: 14px;
    margin-bottom: 48px;
    line-height: 1.6;
  }
  .name-input {
    width: 100%;
    background: rgba(255,255,255,0.07);
    border: 1.5px solid rgba(255,255,255,0.15);
    border-radius: 12px;
    padding: 16px 20px;
    font-family: 'DM Sans', sans-serif;
    font-size: 16px;
    color: var(--white);
    outline: none;
    transition: border-color 0.2s;
    text-align: center;
  }
  .name-input::placeholder { color: rgba(255,255,255,0.3); }
  .name-input:focus { border-color: var(--gold); }
  .btn-primary {
    width: 100%;
    background: var(--gold);
    color: var(--navy);
    border: none;
    border-radius: 12px;
    padding: 16px;
    font-family: 'DM Sans', sans-serif;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    margin-top: 16px;
    transition: background 0.2s, transform 0.1s;
    letter-spacing: 0.02em;
  }
  .btn-primary:hover { background: var(--gold-light); }
  .btn-primary:active { transform: scale(0.98); }

  /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ HOME ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
  #screen-home {
    background: var(--offwhite);
  }
  .home-header {
    width: 100%;
    max-width: 440px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 36px;
  }
  .home-greeting {
    font-family: 'Playfair Display', serif;
    font-size: 28px;
    color: var(--navy);
    line-height: 1.2;
  }
  .home-greeting span { color: var(--gold); display: block; }
  .home-logo-sm {
    font-family: 'Playfair Display', serif;
    font-size: 11px;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    color: var(--gray);
    text-align: right;
  }
  .play-zone {
    width: 100%;
    max-width: 440px;
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-bottom: 40px;
  }
  .play-btn {
    width: 180px;
    height: 180px;
    border-radius: 50%;
    background: var(--navy);
    border: none;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    box-shadow: 0 20px 60px rgba(10,22,40,0.25);
    transition: transform 0.2s, box-shadow 0.2s;
    position: relative;
    overflow: hidden;
  }
  .play-btn::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 50%;
    background: radial-gradient(circle at 35% 35%, rgba(201,168,76,0.25), transparent 60%);
  }
  .play-btn:hover { transform: scale(1.04); box-shadow: 0 28px 70px rgba(10,22,40,0.3); }
  .play-btn:active { transform: scale(0.97); }
  .play-btn-text {
    font-family: 'Playfair Display', serif;
    font-size: 22px;
    font-weight: 700;
    color: var(--white);
    position: relative;
  }
  .play-btn-sub {
    font-size: 11px;
    color: var(--gold);
    letter-spacing: 0.12em;
    text-transform: uppercase;
    margin-top: 6px;
    position: relative;
  }

  /* Leaderboard */
  .section-title {
    font-family: 'Playfair Display', serif;
    font-size: 18px;
    font-weight: 600;
    color: var(--navy);
    margin-bottom: 16px;
    width: 100%;
    max-width: 440px;
  }
  .leaderboard {
    width: 100%;
    max-width: 440px;
    background: var(--white);
    border-radius: 16px;
    box-shadow: 0 4px 24px rgba(10,22,40,0.07);
    overflow: hidden;
    margin-bottom: 16px;
  }
  .lb-row {
    display: flex;
    align-items: center;
    padding: 14px 20px;
    border-bottom: 1px solid var(--gray-light);
    transition: background 0.15s;
  }
  .lb-row:last-child { border-bottom: none; }
  .lb-row.you { background: rgba(201,168,76,0.07); }
  .lb-rank {
    font-family: 'Playfair Display', serif;
    font-size: 16px;
    font-weight: 700;
    color: var(--gray);
    width: 28px;
    flex-shrink: 0;
  }
  .lb-rank.top { color: var(--gold); }
  .lb-name { flex: 1; font-size: 14px; font-weight: 500; color: var(--navy); }
  .lb-name small { display: block; font-size: 11px; color: var(--gray); font-weight: 400; margin-top: 1px; }
  .lb-score {
    font-family: 'Playfair Display', serif;
    font-size: 18px;
    font-weight: 700;
    color: var(--blue);
  }
  .percentile-badge {
    width: 100%;
    max-width: 440px;
    background: linear-gradient(135deg, var(--navy) 0%, var(--navy-mid) 100%);
    border-radius: 14px;
    padding: 18px 22px;
    color: var(--white);
    font-size: 14px;
    text-align: center;
    margin-bottom: 8px;
    display: none;
  }
  .percentile-badge strong { color: var(--gold); font-size: 20px; font-family: 'Playfair Display', serif; }

  /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ GAME SCREEN ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
  #screen-game {
    background: var(--white);
    justify-content: flex-start;
    padding: 24px 20px 0;
  }
  .game-header {
    width: 100%;
    max-width: 480px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
  }
  .streak-pill {
    background: var(--navy);
    color: var(--gold);
    border-radius: 20px;
    padding: 6px 16px;
    font-size: 13px;
    font-weight: 600;
    font-family: 'Playfair Display', serif;
    letter-spacing: 0.05em;
  }
  .timer-circle {
    width: 48px;
    height: 48px;
    position: relative;
    flex-shrink: 0;
  }
  .timer-circle svg { transform: rotate(-90deg); }
  .timer-circle circle {
    fill: none;
    stroke: var(--gray-light);
    stroke-width: 4;
  }
  .timer-circle circle.progress {
    stroke: var(--blue);
    stroke-dasharray: 113;
    stroke-dashoffset: 0;
    stroke-linecap: round;
    transition: stroke-dashoffset 1s linear, stroke 0.3s;
  }
  .timer-num {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Playfair Display', serif;
    font-size: 16px;
    font-weight: 700;
    color: var(--navy);
  }
  .question-card {
    width: 100%;
    max-width: 480px;
    background: var(--offwhite);
    border-radius: 18px;
    padding: 22px 24px;
    margin-bottom: 24px;
    border-left: 4px solid var(--gold);
  }
  .question-label {
    font-size: 10px;
    font-weight: 600;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    color: var(--gold);
    margin-bottom: 8px;
  }
  .question-text {
    font-family: 'Playfair Display', serif;
    font-size: 19px;
    font-weight: 600;
    color: var(--navy);
    line-height: 1.35;
  }
  /* Photo cards */
  .photos-container {
    width: 100%;
    max-width: 480px;
    display: flex;
    gap: 16px;
    position: relative;
    margin-bottom: 20px;
    flex: 1;
  }
  .photo-card {
    flex: 1;
    border-radius: 18px;
    overflow: hidden;
    cursor: pointer;
    position: relative;
    box-shadow: 0 8px 32px rgba(10,22,40,0.12);
    transition: transform 0.18s, box-shadow 0.18s;
    min-height: 260px;
    background: var(--gray-light);
    user-select: none;
  }
  .photo-card:hover { transform: translateY(-3px); box-shadow: 0 16px 40px rgba(10,22,40,0.18); }
  .photo-card img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: top;
    display: block;
  }
  .photo-card-name {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(transparent, rgba(10,22,40,0.85));
    color: var(--white);
    padding: 32px 14px 14px;
    font-size: 13px;
    font-weight: 600;
    letter-spacing: 0.02em;
    display: none;
  }
  /* Arrow hints */
  .arrow-left, .arrow-right {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: var(--white);
    border-radius: 50%;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 2px 12px rgba(10,22,40,0.15);
    font-size: 14px;
    color: var(--navy);
    z-index: 2;
    pointer-events: none;
    opacity: 0.8;
  }
  .arrow-left { left: -8px; }
  .arrow-right { right: -8px; }

  /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ SUCCESS SCREEN ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
  #screen-success {
    justify-content: center;
    background: var(--white);
  }
  .confetti-bg {
    position: fixed;
    inset: 0;
    pointer-events: none;
    overflow: hidden;
  }
  .success-content {
    text-align: center;
    padding: 40px 24px;
  }
  .success-icon {
    font-size: 56px;
    margin-bottom: 16px;
  }
  .success-title {
    font-family: 'Playfair Display', serif;
    font-size: 32px;
    font-weight: 700;
    color: var(--navy);
    margin-bottom: 8px;
  }
  .success-sub { color: var(--gray); font-size: 15px; margin-bottom: 32px; }
  .streak-display {
    background: var(--navy);
    border-radius: 16px;
    padding: 24px;
    margin: 0 auto 32px;
    max-width: 280px;
  }
  .streak-label { color: var(--gold); font-size: 11px; letter-spacing: 0.15em; text-transform: uppercase; margin-bottom: 4px; }
  .streak-count { font-family: 'Playfair Display', serif; font-size: 52px; font-weight: 700; color: var(--white); line-height: 1; }
  .streak-word { color: rgba(255,255,255,0.5); font-size: 13px; margin-top: 4px; }

  /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ FAIL SCREEN ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
  #screen-fail {
    justify-content: center;
    background: var(--white);
  }
  .fail-content { text-align: center; padding: 40px 24px; max-width: 380px; }
  .fail-icon { font-size: 56px; margin-bottom: 16px; }
  .fail-title { font-family: 'Playfair Display', serif; font-size: 30px; font-weight: 700; color: var(--navy); margin-bottom: 8px; }
  .fail-sub { color: var(--gray); font-size: 15px; margin-bottom: 12px; }
  .fail-reveal { background: var(--offwhite); border-radius: 14px; padding: 20px; margin-bottom: 32px; }
  .fail-reveal img { width: 80px; height: 80px; border-radius: 50%; object-fit: cover; object-position: top; margin-bottom: 10px; border: 3px solid var(--gold); }
  .fail-reveal-name { font-family: 'Playfair Display', serif; font-size: 18px; font-weight: 700; color: var(--navy); margin-bottom: 4px; }
  .fail-reveal-title { font-size: 13px; color: var(--gray); }
  .best-score-note { font-size: 13px; color: var(--gray); margin-bottom: 24px; }
  .best-score-note strong { color: var(--navy); }

  /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ CONFETTI ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
  .confetto {
    position: absolute;
    width: 10px;
    height: 10px;
    border-radius: 2px;
    animation: fall linear forwards;
  }
  @keyframes fall {
    0% { transform: translateY(-20px) rotate(0deg); opacity: 1; }
    100% { transform: translateY(110vh) rotate(720deg); opacity: 0.3; }
  }

  /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ SWIPE ANIMATION ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
  .photo-card.swiping-right { animation: swipeRight 0.3s ease-out forwards; }
  .photo-card.swiping-left { animation: swipeLeft 0.3s ease-out forwards; }
  @keyframes swipeRight { to { transform: translateX(120%) rotate(12deg); opacity: 0; } }
  @keyframes swipeLeft { to { transform: translateX(-120%) rotate(-12deg); opacity: 0; } }

  /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ RESPONSIVE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
  @media (max-width: 400px) {
    .photo-card { min-height: 210px; }
    .play-btn { width: 150px; height: 150px; }
    .question-text { font-size: 16px; }
  }

  .divider { width: 100%; max-width: 440px; height: 1px; background: var(--gray-light); margin: 8px 0 20px; }
</style>
</head>
<body>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê ONBOARD SCREEN ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="screen-onboard" class="screen active">
  <div class="onboard-inner">
    <div class="brand">JPMorganChase ¬∑ Chase</div>
    <div class="onboard-logo">Just<br>People<br><span>Meeting.</span></div>
    <div class="onboard-sub">How well do you know the people who lead the firm? Find out.</div>
    <input class="name-input" id="name-input" type="text" placeholder="What's your name?" maxlength="30" autocomplete="off" />
    <button class="btn-primary" onclick="startOnboard()">Let's go ‚Üí</button>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê HOME SCREEN ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="screen-home" class="screen">
  <div class="home-header">
    <div>
      <div class="brand">Just People Meeting</div>
      <div class="home-greeting">Hi, <span id="greeting-name">‚Äî</span></div>
    </div>
    <div class="home-logo-sm">JPMC<br>&amp; CHASE</div>
  </div>

  <div class="play-zone">
    <button class="play-btn" onclick="startGame()" id="play-btn">
      <div class="play-btn-text" id="play-btn-text">Play</div>
      <div class="play-btn-sub">Tap to begin</div>
    </button>
  </div>

  <div class="section-title">Leaderboard</div>
  <div class="leaderboard" id="leaderboard-table"></div>

  <div class="percentile-badge" id="percentile-badge">
    You're better than <strong id="percentile-num">‚Äî</strong>% of players
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê GAME SCREEN ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="screen-game" class="screen">
  <div class="game-header">
    <div class="streak-pill">üî• Streak: <span id="streak-display">0</span></div>
    <div class="timer-circle" id="timer-circle">
      <svg width="48" height="48" viewBox="0 0 48 48">
        <circle cx="24" cy="24" r="18"/>
        <circle class="progress" id="timer-arc" cx="24" cy="24" r="18"/>
      </svg>
      <div class="timer-num" id="timer-num">10</div>
    </div>
  </div>
  <div class="question-card">
    <div class="question-label">Identify this person</div>
    <div class="question-text" id="question-text">‚Äî</div>
  </div>
  <div class="photos-container" id="photos-container">
    <div class="arrow-left">‚Üê</div>
    <div class="photo-card" id="photo-left" onclick="handleChoice('left')"></div>
    <div class="photo-card" id="photo-right" onclick="handleChoice('right')"></div>
    <div class="arrow-right">‚Üí</div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SUCCESS SCREEN ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="screen-success" class="screen">
  <div class="confetti-bg" id="confetti-container"></div>
  <div class="success-content">
    <div class="success-icon">‚úì</div>
    <div class="success-title">Correct!</div>
    <div class="success-sub">Keep going ‚Äî next person loading‚Ä¶</div>
    <div class="streak-display">
      <div class="streak-label">Current Streak</div>
      <div class="streak-count" id="success-streak">1</div>
      <div class="streak-word">in a row</div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê FAIL SCREEN ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="screen-fail" class="screen">
  <div class="fail-content">
    <div class="fail-icon">‚óØ</div>
    <div class="fail-title">Not quite.</div>
    <div class="fail-sub">The correct answer was:</div>
    <div class="fail-reveal">
      <img id="fail-photo" src="" alt="" />
      <div class="fail-reveal-name" id="fail-name">‚Äî</div>
      <div class="fail-reveal-title" id="fail-role">‚Äî</div>
    </div>
    <div class="best-score-note">Your final streak: <strong id="fail-streak">0</strong></div>
    <button class="btn-primary" style="max-width:280px;margin:0 auto;display:block;" onclick="goHome()">Back to home</button>
  </div>
</div>

<script>
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê DATA ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const LEADERS = [
  // JPMC Board
  { name: "Linda B. Bammann", title: "Director, JPMC Board", org: "JPMC", photo: "https://www.jpmorganchase.com/content/dam/jpmorganchase/images/headshots/headshot-lindabbammann.jpg", facts: ["Former Deputy Head of Risk Management at JPMorgan Chase", "Serves on Audit and Risk Policy Committees", "Director since 2013"] },
  { name: "Michele G. Buck", title: "Director, JPMC Board", org: "JPMC", photo: "https://www.jpmorganchase.com/content/dam/jpmorganchase/images/headshots/headshot-michele-g-buck.jpg", facts: ["CEO of The Hershey Company", "Director since 2025", "Consumer goods industry veteran"] },
  { name: "Stephen B. Burke", title: "Director, JPMC Board", org: "JPMC", photo: "https://www.jpmorganchase.com/content/dam/jpmorganchase/images/headshots/headshot-stephenbburke.jpg", facts: ["Former CEO of NBCUniversal", "Director since 2004", "Media and entertainment executive"] },
  { name: "Alicia Boler Davis", title: "Director, JPMC Board", org: "JPMC", photo: "https://www.jpmorganchase.com/content/dam/jpmorganchase/images/headshots/headshot-alicia-boler-davis.jpg", facts: ["Former EVP at Amazon Web Services", "Director since 2023", "Technology and manufacturing leader"] },
  { name: "Jamie Dimon", title: "Chairman & CEO, JPMorganChase", org: "JPMC", photo: "https://www.jpmorganchase.com/content/dam/jpmc/jpmorgan-chase-and-co/who-we-are/our-leadership/headshots/headshot-jamiedimon.png", facts: ["Has led JPMorgan Chase since 2005", "Named one of the 100 most influential people by TIME", "Led the firm through the 2008 financial crisis"] },
  { name: "Alex Gorsky", title: "Director, JPMC Board", org: "JPMC", photo: "https://www.jpmorganchase.com/content/dam/jpmorganchase/images/headshots/headshot-alex-gorsky.jpg", facts: ["Former Chairman & CEO of Johnson & Johnson", "Director since 2022", "Veteran of the United States Army"] },
  { name: "Mellody Hobson", title: "Director, JPMC Board", org: "JPMC", photo: "https://www.jpmorganchase.com/content/dam/jpmorganchase/images/headshots/headshot-mellody-hobson.jpg", facts: ["Co-CEO and President of Ariel Investments", "Director since 2018", "Prominent advocate for financial literacy"] },
  { name: "Phebe N. Novakovic", title: "Director, JPMC Board", org: "JPMC", photo: "https://www.jpmorganchase.com/content/dam/jpmorganchase/images/headshots/headshot-phebe-novakovic.jpg", facts: ["Chairman and CEO of General Dynamics", "Director since 2020", "Former CIA officer"] },
  { name: "Virginia M. Rometty", title: "Director, JPMC Board", org: "JPMC", photo: "https://www.jpmorganchase.com/content/dam/jpmorganchase/images/headshots/headshot-ginni.jpg", facts: ["Former Chairman, President and CEO of IBM", "Director since 2020", "Led IBM's transformation to cloud and AI"] },
  { name: "Mark A. Weinberger", title: "Director, JPMC Board", org: "JPMC", photo: "https://www.jpmorganchase.com/content/dam/jpmorganchase/images/headshots/headshot-mark-weinberger.jpg", facts: ["Former Global Chairman and CEO of EY", "Director since 2024", "Former Assistant Secretary of the Treasury"] },
  // JPMC Operating Committee
  { name: "Ashley Bacon", title: "Chief Risk Officer, JPMorganChase", org: "JPMC", photo: "https://www.jpmorganchase.com/content/dam/jpmorganchase/images/headshots/headshot-abacon.jpg", facts: ["Oversees firmwide risk management", "Joined JPMorgan Chase in 2001", "Expert in market risk and model risk"] },
  { name: "Jeremy Barnum", title: "Chief Financial Officer, JPMorganChase", org: "JPMC", photo: "https://www.jpmorganchase.com/content/dam/jpmorganchase/images/headshots/headshot-jeremy-barnum.jpg", facts: ["Joined JPMorgan in 1994", "Previously Head of Global Research", "Leads investor relations and finance"] },
  { name: "Lori Beer", title: "Global Chief Information Officer, JPMorganChase", org: "JPMC", photo: "https://www.jpmorganchase.com/content/dam/jpmorganchase/images/headshots/headshot-lbeer.jpg", facts: ["Oversees tech for 50,000+ technologists globally", "Named to Forbes Most Powerful Women list", "Leads cloud and AI technology strategy"] },
  { name: "Mary Callahan Erdoes", title: "CEO, Asset & Wealth Management", org: "JPMC", photo: "https://www.jpmorganchase.com/content/dam/jpmorganchase/images/ir/ceo-letters/2024/awm/awm-thumbnail.png", facts: ["Oversees $3+ trillion in assets under management", "Joined JPMorgan in 1996", "Named one of Fortune's Most Powerful Women"] },
  { name: "Stacey Friedman", title: "General Counsel, JPMorganChase", org: "JPMC", photo: "https://www.jpmorganchase.com/content/dam/jpmorganchase/images/headshots/headshot-sfriedman.jpg", facts: ["Oversees global legal affairs", "Joined JPMorgan Chase in 2004", "Expert in financial regulation and litigation"] },
  { name: "Marianne Lake", title: "CEO, Consumer & Community Banking", org: "JPMC", photo: "https://www.jpmorganchase.com/content/dam/jpmorganchase/images/headshots/headshot-marianne-lake.jpg", facts: ["Oversees Chase's consumer banking business", "Previously served as CFO of JPMorganChase", "Named to Fortune's Most Powerful Women list"] },
  { name: "Robin Leopold", title: "Head of Human Resources, JPMorganChase", org: "JPMC", photo: "https://www.jpmorganchase.com/content/dam/jpmorganchase/images/headshots/headshot-rleopold.jpg", facts: ["Oversees HR for 300,000+ employees globally", "Leads culture and talent initiatives", "Joined JPMorgan Chase in 1994"] },
  { name: "Douglas B. Petno", title: "Co-CEO, Commercial & Investment Bank", org: "JPMC", photo: "https://www.jpmorganchase.com/content/dam/jpmorganchase/images/headshots/headshot-dpetno.jpg", facts: ["Leads one of the world's top investment banks", "Joined JPMorgan in 1997", "Expert in corporate banking and markets"] },
  { name: "Jennifer Piepszak", title: "Chief Operating Officer, JPMorganChase", org: "JPMC", photo: "https://www.jpmorganchase.com/content/dam/jpmorganchase/images/headshots/headshot-jpiepszak.jpg", facts: ["Previously served as CFO of JPMorganChase", "Oversees firmwide operations", "Named to Fortune's Most Powerful Women list"] },
  { name: "Troy Rohrbaugh", title: "Co-CEO, Commercial & Investment Bank", org: "JPMC", photo: "https://www.jpmorganchase.com/content/dam/jpmorganchase/images/headshots/headshot-troy.jpg", facts: ["Leads global markets and investment banking", "Expert in fixed income and equities", "Joined JPMorgan Chase in 1997"] },
  // Chase
  { name: "Allison Beer", title: "CEO, Card Services & Connected Commerce", org: "Chase", photo: "https://media.chase.com/content/dam/chase/media-center/bios/allison-beer-thumb-new-thumb.jpg", facts: ["Leads Chase's credit card business", "Oversaw relaunch of Sapphire Reserve card", "Expert in customer experience and digital banking"] },
  { name: "Ben Walter", title: "CEO, Chase Business Banking", org: "Chase", photo: "https://media.chase.com/content/dam/chase/media-center/bios/benwalte-317x179.jpg", facts: ["Leads banking for small and mid-sized businesses", "Previously led Chase Auto Finance", "Expert in business lending and payments"] },
  { name: "Bori Cox", title: "Chief Financial Officer, Chase", org: "Chase", photo: "https://media.chase.com/content/dam/chase/media-center/bios/thumbnail-bori-cox.jpg", facts: ["Oversees financial planning for Consumer & Community Banking", "Expert in financial analytics and strategy", "Previously held senior finance roles at JPMorganChase"] },
  { name: "Carla Hassan", title: "Chief Marketing Officer, Chase", org: "Chase", photo: "https://media.chase.com/content/dam/chase/media-center/bios/carla-hassan-319x179.jpg", facts: ["Leads brand and marketing for Chase", "Previously CMO at Citi", "Expert in brand transformation and digital marketing"] },
  { name: "Gill Haus", title: "Chief Information Officer, Chase", org: "Chase", photo: "https://media.chase.com/content/dam/chase/media-center/bios/gill-haus-v1.jpg", facts: ["Oversees technology for Chase consumer products", "Expert in mobile and digital platforms", "Leads app development for 60M+ customers"] },
  { name: "Jennifer Roberts", title: "CEO, Consumer Banking, Chase", org: "Chase", photo: "https://media.chase.com/content/dam/chase/media-center/bios/jroberts-thumb.jpg", facts: ["Leads Chase's retail banking network", "Oversees 4,700+ branches nationwide", "Expert in community banking and financial inclusion"] },
  { name: "Kristin Lemkau", title: "CEO, J.P. Morgan Wealth Management", org: "Chase", photo: "https://media.chase.com/content/dam/chase/media-center/bios/kristin-lemkau-thumbnail.jpg", facts: ["Leads wealth management for everyday investors", "Previously CMO of JPMorganChase", "Expert in digital wealth and investor experience"] },
  { name: "Leslie Wims Morris", title: "CEO, Auto, Chase", org: "Chase", photo: "https://media.chase.com/content/dam/chase/media-center/bios/leslie-wims-morris-thumbnail.png", facts: ["Leads the largest auto lender in the US", "Expert in automotive finance and dealer relationships", "Oversees $80B+ in auto loan originations"] },
  { name: "Mark Brucker", title: "Chief Risk Officer, Chase", org: "Chase", photo: "https://media.chase.com/content/dam/chase/media-center/bios/mark-brucker-thumb.jpg", facts: ["Oversees consumer risk management", "Expert in credit risk and fraud prevention", "Leads risk strategy for consumer banking"] },
  { name: "Mike Ashworth", title: "Chief Operations Officer, Chase", org: "Chase", photo: "https://media.chase.com/content/dam/chase/media-center/bios/mike-ashworth-thumb.jpg", facts: ["Leads operational excellence for Chase", "Expert in process automation and efficiency", "Oversees customer service operations"] },
  { name: "Pablo Rodriguez", title: "Chief Communications Officer, Chase", org: "Chase", photo: "https://media.chase.com/content/dam/chase/media-center/bios/pablo-thumbnail.png", facts: ["Leads communications and public affairs for Chase", "Expert in media relations and corporate narrative", "Previously held senior PR roles at major financial institutions"] },
  { name: "Rohan Amin", title: "Chief Product Officer, Chase", org: "Chase", photo: "https://media.chase.com/content/dam/chase/media-center/bios/rohan-amin-thumb.jpg", facts: ["Leads product design for Chase mobile and web", "Oversees 60M+ digital banking customers", "Expert in product strategy and UX"] },
  { name: "Sean Grzebin", title: "CEO, Home Lending, Chase", org: "Chase", photo: "https://media.chase.com/content/dam/chase/media-center/bios/grzebin-thumbnail-319x179.png", facts: ["Leads Chase's mortgage business", "Expert in home lending and refinancing products", "Oversees one of America's largest mortgage lenders"] },
];

// Question templates: question(subject) returns string
const QUESTION_TEMPLATES = [
  p => `Who holds the role of ${p.title}?`,
  p => `This executive ${p.facts[0].toLowerCase()}. Who are they?`,
  p => `Who ${p.facts[1].toLowerCase()}?`,
  p => `Which leader at ${p.org === 'Chase' ? 'Chase' : 'JPMorganChase'} is described as: "${p.facts[2]}"?`,
  p => `${p.facts[0]}. Name this ${p.org} leader.`,
  p => `Who at ${p.org === 'Chase' ? 'Chase' : 'JPMorganChase'} serves as ${p.title}?`,
];

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê STATE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let playerName = '';
let deviceId = '';
let streak = 0;
let bestStreak = 0;
let currentQuestion = null; // { subject, decoy, correctSide }
let timerInterval = null;
let timeLeft = 10;

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê STORAGE HELPERS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function getDeviceId() {
  let id = localStorage.getItem('jpm_device');
  if (!id) { id = 'dev_' + Math.random().toString(36).slice(2,10); localStorage.setItem('jpm_device', id); }
  return id;
}
function savePlayer() {
  const data = { name: playerName, best: bestStreak, ts: Date.now() };
  localStorage.setItem('jpm_player', JSON.stringify(data));
}
function loadPlayer() {
  try { return JSON.parse(localStorage.getItem('jpm_player')); } catch { return null; }
}
function getGlobalBoard() {
  try { return JSON.parse(localStorage.getItem('jpm_board') || '[]'); } catch { return []; }
}
function saveToBoard() {
  if (!bestStreak) return;
  const board = getGlobalBoard().filter(e => e.name !== playerName);
  board.push({ name: playerName, score: bestStreak, ts: Date.now() });
  board.sort((a,b) => b.score - a.score);
  localStorage.setItem('jpm_board', JSON.stringify(board.slice(0, 50)));
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê INIT ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
window.onload = () => {
  deviceId = getDeviceId();
  const player = loadPlayer();
  if (player) {
    playerName = player.name;
    bestStreak = player.best || 0;
    showHome();
  } else {
    show('screen-onboard');
  }
};

function startOnboard() {
  const v = document.getElementById('name-input').value.trim();
  if (!v) { document.getElementById('name-input').focus(); return; }
  playerName = v;
  bestStreak = 0;
  savePlayer();
  showHome();
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê HOME ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function showHome() {
  document.getElementById('greeting-name').textContent = playerName;
  document.getElementById('play-btn-text').textContent = bestStreak > 0 ? 'Play Again' : 'Play';
  renderLeaderboard();
  show('screen-home');
}

function renderLeaderboard() {
  const board = getGlobalBoard();
  // ensure player is in board
  const myIdx = board.findIndex(e => e.name === playerName);
  const tbl = document.getElementById('leaderboard-table');
  const top = board.slice(0, 10);
  let html = '';
  top.forEach((e, i) => {
    const isYou = e.name === playerName;
    const dt = new Date(e.ts).toLocaleDateString('en-US',{month:'short',day:'numeric'});
    html += `<div class="lb-row${isYou?' you':''}">
      <div class="lb-rank${i<3?' top':''}">${i+1}</div>
      <div class="lb-name">${e.name}${isYou?' <em style="color:var(--gold);font-style:normal;font-size:11px;">(you)</em>':''}<small>${dt}</small></div>
      <div class="lb-score">${e.score}</div>
    </div>`;
  });
  if (!html) {
    html = '<div class="lb-row"><div class="lb-name" style="text-align:center;color:var(--gray);padding:8px 0;">No scores yet ‚Äî be the first!</div></div>';
  }
  tbl.innerHTML = html;

  // percentile
  const badge = document.getElementById('percentile-badge');
  if (bestStreak > 0 && board.length > 1) {
    const below = board.filter(e => e.score < bestStreak).length;
    const pct = Math.round((below / board.length) * 100);
    document.getElementById('percentile-num').textContent = pct;
    badge.style.display = 'block';
  } else {
    badge.style.display = 'none';
  }
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê GAME ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// Get today's seed for deterministic daily question order
function dailySeed() {
  const d = new Date();
  return d.getFullYear() * 10000 + (d.getMonth()+1) * 100 + d.getDate();
}
function seededRand(seed) {
  let s = seed;
  return function() { s = (s * 1664525 + 1013904223) & 0xffffffff; return (s >>> 0) / 0xffffffff; };
}

let questionOrder = [];
let questionIdx = 0;
let rng;

function startGame() {
  streak = 0;
  rng = seededRand(dailySeed() + streak);
  // Shuffle leaders deterministically by day
  questionOrder = [...Array(LEADERS.length).keys()];
  const r = seededRand(dailySeed());
  for (let i = questionOrder.length - 1; i > 0; i--) {
    const j = Math.floor(r() * (i+1));
    [questionOrder[i], questionOrder[j]] = [questionOrder[j], questionOrder[i]];
  }
  questionIdx = 0;
  show('screen-game');
  nextQuestion();
}

function nextQuestion() {
  if (questionIdx >= questionOrder.length) questionIdx = 0;
  const subjectIdx = questionOrder[questionIdx++];
  const subject = LEADERS[subjectIdx];
  // Pick decoy: different person
  let decoyIdx;
  do { decoyIdx = Math.floor(rng() * LEADERS.length); } while (decoyIdx === subjectIdx);
  const decoy = LEADERS[decoyIdx];

  const correctSide = rng() < 0.5 ? 'left' : 'right';
  currentQuestion = { subject, decoy, correctSide };

  // Difficulty: question template scales with streak
  const templateIdx = Math.min(Math.floor(streak / 2), QUESTION_TEMPLATES.length - 1);
  const qt = QUESTION_TEMPLATES[templateIdx];

  document.getElementById('question-text').textContent = qt(subject);
  document.getElementById('streak-display').textContent = streak;

  // Build photo cards
  const leftPerson = correctSide === 'left' ? subject : decoy;
  const rightPerson = correctSide === 'right' ? subject : decoy;

  const photoLeft = document.getElementById('photo-left');
  const photoRight = document.getElementById('photo-right');
  [photoLeft, photoRight].forEach(c => { c.className = 'photo-card'; c.innerHTML = ''; });

  function makeCard(el, person) {
    const img = document.createElement('img');
    img.src = person.photo;
    img.alt = person.name;
    img.onerror = () => { el.style.background = '#dde3ed'; el.innerHTML = `<div style="padding:40px;color:var(--gray);font-size:13px;text-align:center;">${person.name}</div>`; };
    el.appendChild(img);
  }
  makeCard(photoLeft, leftPerson);
  makeCard(photoRight, rightPerson);

  startTimer();
}

function startTimer() {
  clearInterval(timerInterval);
  // harder = less time: floor(10 - streak*0.4, 3)
  timeLeft = Math.max(3, Math.floor(10 - streak * 0.4));
  const arc = document.getElementById('timer-arc');
  const circumference = 2 * Math.PI * 18; // 113.1
  arc.style.strokeDasharray = circumference;
  arc.style.stroke = 'var(--blue)';
  const total = timeLeft;
  const tick = () => {
    document.getElementById('timer-num').textContent = timeLeft;
    const pct = timeLeft / total;
    arc.style.strokeDashoffset = circumference * (1 - pct);
    arc.style.stroke = pct < 0.3 ? 'var(--red)' : pct < 0.6 ? 'var(--gold)' : 'var(--blue)';
    if (timeLeft <= 0) { clearInterval(timerInterval); handleChoice('timeout'); return; }
    timeLeft--;
  };
  tick();
  timerInterval = setInterval(tick, 1000);
}

function handleChoice(side) {
  clearInterval(timerInterval);
  const { correctSide, subject, decoy } = currentQuestion;
  const correct = (side === correctSide);
  if (correct) {
    streak++;
    if (streak > bestStreak) {
      bestStreak = streak;
      savePlayer();
      saveToBoard();
    }
    document.getElementById('success-streak').textContent = streak;
    spawnConfetti();
    show('screen-success');
    setTimeout(() => {
      show('screen-game');
      nextQuestion();
    }, 1400);
  } else {
    document.getElementById('fail-streak').textContent = streak;
    document.getElementById('fail-name').textContent = subject.name;
    document.getElementById('fail-role').textContent = subject.title;
    const fp = document.getElementById('fail-photo');
    fp.src = subject.photo;
    fp.onerror = () => { fp.style.display = 'none'; };
    show('screen-fail');
  }
}

function goHome() {
  streak = 0;
  showHome();
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê CONFETTI ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function spawnConfetti() {
  const container = document.getElementById('confetti-container');
  container.innerHTML = '';
  const colors = ['#c9a84c','#f0c96e','#1d4ed8','#3b82f6','#ffffff','#0a1628'];
  for (let i = 0; i < 80; i++) {
    const el = document.createElement('div');
    el.className = 'confetto';
    el.style.left = Math.random() * 100 + 'vw';
    el.style.top = '-20px';
    el.style.background = colors[Math.floor(Math.random() * colors.length)];
    el.style.width = (6 + Math.random() * 8) + 'px';
    el.style.height = (6 + Math.random() * 8) + 'px';
    el.style.borderRadius = Math.random() > 0.5 ? '50%' : '2px';
    el.style.animationDuration = (0.8 + Math.random() * 1.2) + 's';
    el.style.animationDelay = Math.random() * 0.4 + 's';
    container.appendChild(el);
  }
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SWIPE SUPPORT ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
(function() {
  let startX = null;
  document.addEventListener('touchstart', e => { startX = e.touches[0].clientX; }, { passive: true });
  document.addEventListener('touchend', e => {
    if (startX === null) return;
    const diff = e.changedTouches[0].clientX - startX;
    startX = null;
    if (document.getElementById('screen-game').classList.contains('active') && Math.abs(diff) > 50) {
      handleChoice(diff > 0 ? 'right' : 'left');
    }
  });
})();

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê UTILS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function show(id) {
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}
</script>
</body>
</html>
